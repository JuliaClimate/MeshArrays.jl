<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API documentation · MeshArrays</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MeshArrays</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../start/">Get Started</a></li><li><a class="tocitem" href="../tutorials/">Tutorials</a></li><li><a class="tocitem" href="../main/">Main Features</a></li><li class="is-active"><a class="tocitem" href>API documentation</a><ul class="internal"><li><a class="tocitem" href="#.-Data-Structures"><span>1. Data Structures</span></a></li><li><a class="tocitem" href="#.-Grids-And-I/O"><span>2. Grids And I/O</span></a></li><li><a class="tocitem" href="#.-Interpolation"><span>3. Interpolation</span></a></li><li><a class="tocitem" href="#.-Vector-Fields"><span>4. Vector Fields</span></a></li><li><a class="tocitem" href="#.-Other"><span>5. Other</span></a></li></ul></li><li><a class="tocitem" href="../detail/">Miscellaneous</a></li><li><a class="tocitem" href="../videos/">Video Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API documentation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/master/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-documentation"><a class="docs-heading-anchor" href="#API-documentation">API documentation</a><a id="API-documentation-1"></a><a class="docs-heading-anchor-permalink" href="#API-documentation" title="Permalink"></a></h1><h2 id=".-Data-Structures"><a class="docs-heading-anchor" href="#.-Data-Structures">1. Data Structures</a><a id=".-Data-Structures-1"></a><a class="docs-heading-anchor-permalink" href="#.-Data-Structures" title="Permalink"></a></h2><p>By default, the <code>MeshArray</code> type is an alias to <a href="#MeshArrays.gcmarray"><code>MeshArrays.gcmarray</code></a>.</p><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.AbstractMeshArray" href="#MeshArrays.AbstractMeshArray"><code>MeshArrays.AbstractMeshArray</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractMeshArray{T, N}</code></pre><p>Subtype of AbstractArray{T, N}</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Types.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.gcmarray" href="#MeshArrays.gcmarray"><code>MeshArrays.gcmarray</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">gcmarray{T, N, AT}</code></pre><p>gcmarray data structure. Available constructors:</p><pre><code class="nohighlight hljs">gcmarray{T,N,AT}(grid::gcmgrid,meta::varmeta,f::Array{AT,N},
         fSize::Array{NTuple{N, Int}},fIndex::Array{Int,1},v::String)

gcmarray(grid::gcmgrid,f::Array{Array{T,2},N}) where {T,N}
gcmarray(grid::gcmgrid,f::Array{Array{T,N},1}) where {T,N}

gcmarray(grid::gcmgrid,fSize::Array{NTuple{N, Int}},fIndex::Array{Int,1})
gcmarray(&lt;same as above&gt;,n3::Int)
gcmarray(&lt;same as above&gt;,n3::Int,n4::Int)

gcmarray(grid::gcmgrid)
gcmarray(grid::gcmgrid,::Type{T})
gcmarray(grid::gcmgrid,::Type{T},n3::Int)
gcmarray(grid::gcmgrid,::Type{T},n3::Int,n4::Int)

gcmarray(A::Array{T,N};meta::varmeta=defaultmeta)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Type_gcmarray.jl#L2-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.gcmgrid" href="#MeshArrays.gcmgrid"><code>MeshArrays.gcmgrid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">gcmgrid</code></pre><p>gcmgrid data structure. Available constructors:</p><pre><code class="nohighlight hljs">gcmgrid(path::String, class::String, nFaces::Int, 
        fSize::Array{NTuple{2, Int},1},
        ioSize::Union{NTuple{2, Int},Array{Int64,2}},
        ioPrec::Type, read::Function, write::Function)</code></pre><p>The <code>class</code> can be set to &quot;LatLonCap&quot;, &quot;CubeSphere&quot;, &quot;PeriodicChannel&quot;, &quot;PeriodicDomain&quot;.</p><p>For example, A periodic channel (periodic in the x direction) of size 360 by 160, can be defined as follows.</p><pre><code class="nohighlight hljs">pth=MeshArrays.GRID_LL360
class=&quot;PeriodicChannel&quot;
ioSize=(360, 160)
ioPrec=Float32

γ=gcmgrid(pth, class, 1, [ioSize], ioSize, ioPrec, read, write)

Γ=GridLoad(γ)    </code></pre><p>Please refer to <code>GridSpec</code> and <code>UnitGrid</code> for more info related to <code>gcmgrid</code> options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Types.jl#L11-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.varmeta" href="#MeshArrays.varmeta"><code>MeshArrays.varmeta</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">varmeta</code></pre><p>varmeta data structure. By default, <code>unit</code> is <code>missing</code> (non-dimensional), <code>position</code> is <code>fill(0.5,3)</code> (cell center), time is <code>missing</code>, and <code>name</code> / <code>long_name</code> is <code>unknown</code>.</p><p>Available constructors:</p><pre><code class="nohighlight hljs">varmeta(unit::Union{Unitful.Units,Number,Missing},position::Array{Float64,1},
        time::Union{DateTime,Missing,Array{DateTime,1}},name::String,long_name::String)</code></pre><p>And:</p><p><code>defaultmeta = varmeta(missing,fill(0.5,3),missing,&quot;unknown&quot;,&quot;unknown&quot;)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Types.jl#L51-L68">source</a></section></article><p>More : </p><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.gcmvector" href="#MeshArrays.gcmvector"><code>MeshArrays.gcmvector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">gcmvector{T, N}</code></pre><p>gcmvector data structure that can be used for   subsetting and indexing into a gcmarray.</p><pre><code class="nohighlight hljs">gcmvector{T,N}(grid::gcmgrid,f::Array{Array{T,1},N},
         fSize::Array{NTuple{N, Int}},fIndex::Array{Int,1})
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Type_gcmvector.jl#L4-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.gcmfaces" href="#MeshArrays.gcmfaces"><code>MeshArrays.gcmfaces</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">gcmfaces{T, N}</code></pre><p>gcmfaces data structure. Available constructors:</p><pre><code class="nohighlight hljs">gcmfaces{T,N}(grid::gcmgrid,f::Array{Array{T,N},1},
         fSize::Array{NTuple{N, Int}}, aSize::NTuple{N,Int})

gcmfaces(grid::gcmgrid,v1::Array{Array{T,N},1}) where {T,N}
gcmfaces(grid::gcmgrid,::Type{T},
         fSize::Array{NTuple{N, Int}}, aSize::NTuple{N,Int}) where {T,N}

gcmfaces(grid::gcmgrid)
gcmfaces(grid::gcmgrid,::Type{T})
gcmfaces(grid::gcmgrid,::Type{T},n3::Int)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Type_gcmfaces.jl#L5-L22">source</a></section></article><h2 id=".-Grids-And-I/O"><a class="docs-heading-anchor" href="#.-Grids-And-I/O">2. Grids And I/O</a><a id=".-Grids-And-I/O-1"></a><a class="docs-heading-anchor-permalink" href="#.-Grids-And-I/O" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.UnitGrid" href="#MeshArrays.UnitGrid"><code>MeshArrays.UnitGrid</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">UnitGrid(γ::gcmgrid;option=&quot;minimal&quot;)</code></pre><p>Generate a unit grid, where every grid spacing and area is 1, according to γ. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Grids.jl#L4-L8">source</a></section><section><div><pre><code class="nohighlight hljs">UnitGrid(ioSize, tileSize; option=&quot;minimal&quot;)</code></pre><p>Generate a unit grid, where every grid spacing and area is 1, according to <code>ioSize, tileSize</code>. </p><p>Since <code>ioSize, tileSize</code> defines a one to one mapping from global to tiled array, here we use  <code>read_tiles, write_tiles</code> instead of the default <code>read, write</code>. And we overwrite local <code>XC,YC</code> etc accordingly with global <code>XC,YC</code> etc . </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Grids.jl#L47-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.simple_periodic_domain" href="#MeshArrays.simple_periodic_domain"><code>MeshArrays.simple_periodic_domain</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">simple_periodic_domain(np::Integer,nq=missing)</code></pre><p>Set up a simple periodic domain of size np x nq</p><pre><code class="language-julia hljs">using MeshArrays
np=16 #domain size is np x np
Γ=simple_periodic_domain(np)
isa(Γ.XC,MeshArray)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Grids.jl#L75-L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.GridSpec" href="#MeshArrays.GridSpec"><code>MeshArrays.GridSpec</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">GridSpec(GridName,GridParentDir=&quot;./&quot;)</code></pre><p>Select one of the pre-defined grids (by <code>GridName</code>) and return  the corresponding <code>gcmgrid</code> – a global grid specification  which contains the grid files location (<code>GridParentDir</code>).</p><p>Possible choices for <code>GridName</code>:</p><ul><li><code>&quot;PeriodicDomain&quot;</code></li><li><code>&quot;PeriodicChannel&quot;</code></li><li><code>&quot;CubeSphere&quot;</code></li><li><code>&quot;LatLonCap&quot;</code>`</li></ul><pre><code class="language-julia hljs">using MeshArrays
g = GridSpec()
g = GridSpec(&quot;PeriodicChannel&quot;,MeshArrays.GRID_LL360)
g = GridSpec(&quot;CubeSphere&quot;,MeshArrays.GRID_CS32)
g = GridSpec(&quot;LatLonCap&quot;,MeshArrays.GRID_LLC90)
isa(g,gcmgrid)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Grids.jl#L111-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.GridLoad" href="#MeshArrays.GridLoad"><code>MeshArrays.GridLoad</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">GridLoad(γ::gcmgrid;option=&quot;minimal&quot;)</code></pre><p>Return a <code>NamedTuple</code> of grid variables read from files located in <code>γ.path</code> (see <code>?GridSpec</code>).</p><p>By default, option=&quot;minimal&quot; means that only grid cell center positions (XC, YC) are loaded. </p><p>The &quot;full&quot; option provides a complete set of grid variables. </p><p>Based on the MITgcm naming convention, grid variables are:</p><ul><li>XC, XG, YC, YG, AngleCS, AngleSN, hFacC, hFacS, hFacW, Depth.</li><li>RAC, RAW, RAS, RAZ, DXC, DXG, DYC, DYG.</li><li>DRC, DRF, RC, RF (one-dimensional)</li></ul><pre><code class="language-julia hljs">using MeshArrays

γ = GridSpec(&quot;CubeSphere&quot;,MeshArrays.GRID_CS32)
#γ = GridSpec(&quot;LatLonCap&quot;,MeshArrays.GRID_LLC90)
#γ = GridSpec(&quot;PeriodicChannel&quot;,MeshArrays.GRID_LL360)

Γ = GridLoad(γ;option=&quot;full&quot;)

isa(Γ.XC,MeshArray)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Grids.jl#L176-L206">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.GridLoadVar" href="#MeshArrays.GridLoadVar"><code>MeshArrays.GridLoadVar</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">GridLoadVar(nam::String,γ::gcmgrid)</code></pre><p>Return a grid variable read from files located in <code>γ.path</code> (see <code>?GridSpec</code>, <code>?GridLoad</code>).</p><p>Based on the MITgcm naming convention, grid variables are:</p><ul><li>XC, XG, YC, YG, AngleCS, AngleSN, hFacC, hFacS, hFacW, Depth.</li><li>RAC, RAW, RAS, RAZ, DXC, DXG, DYC, DYG.</li><li>DRC, DRF, RC, RF (one-dimensional)</li></ul><pre><code class="language-julia hljs">using MeshArrays

γ = GridSpec(&quot;CubeSphere&quot;,MeshArrays.GRID_CS32)
XC = GridLoadVar(&quot;XC&quot;,γ)

isa(XC,MeshArray)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Grids.jl#L231-L254">source</a></section></article><p>More : </p><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.Tiles" href="#MeshArrays.Tiles"><code>MeshArrays.Tiles</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Tiles(γ::gcmgrid,ni::Int,nj::Int)</code></pre><p>Define sudomain <code>tiles</code> of size <code>ni,nj</code>. Each tile is defined by a <code>Dict</code> where <code>tile,face,i,j</code> correspond to tile ID, face ID, index ranges.</p><pre><code class="language-julia hljs">using MeshArrays
γ=GridSpec(&quot;LatLonCap&quot;,MeshArrays.GRID_LLC90)
τ=Tiles(γ,30,30)

isa(τ[1],NamedTuple)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Grids.jl#L328-L345">source</a></section><section><div><pre><code class="nohighlight hljs">Tiles(τ::Array{Dict},x::MeshArray)</code></pre><p>Return an <code>Array</code> of tiles which cover <code>x</code> according to tile partition <code>τ</code>.</p><pre><code class="language-julia hljs">using MeshArrays
γ=GridSpec(&quot;LatLonCap&quot;,MeshArrays.GRID_LLC90)
d=γ.read(γ.path*&quot;Depth.data&quot;,MeshArray(γ,γ.ioPrec))
τ=Tiles(γ,30,30)
td=Tiles(τ,d)

isa(td[1],Array)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Grids.jl#L365-L383">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.exchange" href="#MeshArrays.exchange"><code>MeshArrays.exchange</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">exchange(fld::MeshArray)</code></pre><p>Exchange / transfer data between neighboring arrays. Other methods are</p><pre><code class="nohighlight hljs">exchange(fld::MeshArray,N::Integer)
exchange(u::MeshArray,v::MeshArray)
exchange(u::MeshArray,v::MeshArray,N::Integer)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Exchanges.jl#L7-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.read" href="#Base.read"><code>Base.read</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read(fil::String,x::MeshArray)</code></pre><p>Read file / array into MeshArray. Methods:</p><pre><code class="nohighlight hljs">read(fil::String,x::MeshArray) #from File
read(xx::Array,x::MeshArray) #from Array
read(xx::Array,γ::gcmgrid) #from Array</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/ReadWrite.jl#L4-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.write" href="#Base.write"><code>Base.write</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">write(fil::String,x::MeshArray)</code></pre><p>Write MeshArray to binary file. Other methods:</p><pre><code class="nohighlight hljs">write(xx::Array,x::MeshArray) #to Array</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/ReadWrite.jl#L66-L74">source</a></section></article><h2 id=".-Interpolation"><a class="docs-heading-anchor" href="#.-Interpolation">3. Interpolation</a><a id=".-Interpolation-1"></a><a class="docs-heading-anchor-permalink" href="#.-Interpolation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NearestNeighbors.knn" href="#NearestNeighbors.knn"><code>NearestNeighbors.knn</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">knn(xgrid,ygrid::MeshArray,x,y::Array{T,1},k::Int)</code></pre><p>Find k nearest neighbors to each point in x,y on xgrid,ygrid</p><pre><code class="nohighlight hljs">lon=collect(0.1:0.5:2.1); lat=collect(0.1:0.5:2.1);
(f,i,j,c)=knn(Γ.XC,Γ.YC,lon,lat)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Interpolation.jl#L5-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.Interpolate" href="#MeshArrays.Interpolate"><code>MeshArrays.Interpolate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Interpolate(z_in::MeshArray,f,i,j,w)</code></pre><pre><code class="nohighlight hljs">using MeshArrays
lon=[i for i=-179.5:1.0:179.5, j=-89.5:1.0:89.5]
lat=[j for i=-179.5:1.0:179.5, j=-89.5:1.0:89.5]

Γ=GridLoad(GridSpec(&quot;LatLonCap&quot;,MeshArrays.GRID_LLC90); option=&quot;full&quot;)
(f,i,j,w,j_f,j_x,j_y)=InterpolationFactors(Γ,vec(lon),vec(lat))
DD=Interpolate(Γ.Depth,f,i,j,w)

using Plots
contourf(vec(lon[:,1]),vec(lat[1,:]),DD,clims=(0.,6000.))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Interpolation.jl#L54-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.InterpolationFactors" href="#MeshArrays.InterpolationFactors"><code>MeshArrays.InterpolationFactors</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">InterpolationFactors(Γ,lon::Array{T,1},lat::Array{T,1})</code></pre><p>Compute interpolation coefficients etc from grid <code>Γ</code> to <code>lon,lat</code></p><pre><code class="language-julia hljs">using MeshArrays
γ=GridSpec(&quot;CubeSphere&quot;,MeshArrays.GRID_CS32)
Γ=GridLoad(γ; option=&quot;full&quot;)
lon=collect(45.:0.1:46.); lat=collect(60.:0.1:61.)
(f,i,j,w,j_f,j_x,j_y)=InterpolationFactors(Γ,lon,lat)
YC=Interpolate(Γ.YC,f,i,j,w)
extrema(i)==(9,10)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Interpolation.jl#L82-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.StereographicProjection" href="#MeshArrays.StereographicProjection"><code>MeshArrays.StereographicProjection</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">StereographicProjection(XC0,YC0,XC,YC)</code></pre><p>Apply stereographic projection that puts <code>XC0,YC0</code> at <code>0.0,0.0</code> to target point(s) <code>XC,YC</code></p><pre><code class="nohighlight hljs">lon=collect(45.:0.1:46.); lat=collect(60.:0.1:61.)
x,y=StereographicProjection(45.,60.,lon,lat)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Interpolation.jl#L192-L202">source</a></section></article><h2 id=".-Vector-Fields"><a class="docs-heading-anchor" href="#.-Vector-Fields">4. Vector Fields</a><a id=".-Vector-Fields-1"></a><a class="docs-heading-anchor-permalink" href="#.-Vector-Fields" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.curl" href="#MeshArrays.curl"><code>MeshArrays.curl</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">curl(u::MeshArray,v::MeshArray,Γ::NamedTuple)</code></pre><p>Compute curl of a velocity field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Operations.jl#L61-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.convergence" href="#MeshArrays.convergence"><code>MeshArrays.convergence</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">convergence(uFLD::MeshArray,vFLD::MeshArray)</code></pre><p>Compute convergence of a vector field</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Operations.jl#L133-L137">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.gradient" href="#MeshArrays.gradient"><code>MeshArrays.gradient</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gradient(inFLD::MeshArray,Γ::NamedTuple)</code></pre><p>Compute spatial derivatives. Other methods:</p><pre><code class="nohighlight hljs">gradient(inFLD::MeshArray,Γ::NamedTuple,doDIV::Bool)
gradient(inFLD::MeshArray,iDXC::MeshArray,iDYC::MeshArray)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Operations.jl#L4-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.ScalarPotential" href="#MeshArrays.ScalarPotential"><code>MeshArrays.ScalarPotential</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ScalarPotential(TrspCon)</code></pre><p>Scalar potential inversion.</p><pre><code class="nohighlight hljs">TrspPot=ScalarPotential(TrspCon)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Solvers.jl#L129-L136">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.VectorPotential" href="#MeshArrays.VectorPotential"><code>MeshArrays.VectorPotential</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">VectorPotential(TrspX,TrspY,Γ,method::Int=1)</code></pre><p>Vector potential inversion.</p><pre><code class="nohighlight hljs">TrspPot=ScalarPotential(TrspCon)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Solvers.jl#L155-L162">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.ThroughFlow" href="#MeshArrays.ThroughFlow"><code>MeshArrays.ThroughFlow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ThroughFlow(VectorField,IntegralPath,Γ::NamedTuple)</code></pre><p>Compute transport through an integration path</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Operations.jl#L236-L240">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.UVtoTransport" href="#MeshArrays.UVtoTransport"><code>MeshArrays.UVtoTransport</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">UVtoTransport(U,V,G::NamedTuple)</code></pre><p>Convert e.g. velocity (m/s) to transport (m^3/s) by multiplying by <code>DRF</code> and <code>DXG</code>,<code>DYG</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Operations.jl#L422-L426">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.UVtoUEVN" href="#MeshArrays.UVtoUEVN"><code>MeshArrays.UVtoUEVN</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">UVtoUEVN(u,v,G::NamedTuple)</code></pre><ol><li>Interpolate to grid cell centers (uC,vC)</li><li>Convert to <code>Eastward/Northward</code> components (uE,vN)</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Operations.jl#L401-L406">source</a></section></article><h2 id=".-Other"><a class="docs-heading-anchor" href="#.-Other">5. Other</a><a id=".-Other-1"></a><a class="docs-heading-anchor-permalink" href="#.-Other" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.LatitudeCircles" href="#MeshArrays.LatitudeCircles"><code>MeshArrays.LatitudeCircles</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">LatitudeCircles(LatValues,Γ::NamedTuple)</code></pre><p>Compute integration paths that follow latitude circles</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Operations.jl#L310-L314">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.Transect" href="#MeshArrays.Transect"><code>MeshArrays.Transect</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Transect(name,lons,lats,Γ)</code></pre><p>Compute integration paths that follow a great circle between two geolocations give by <code>lons</code>, <code>lats</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/Operations.jl#L379-L383">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MeshArrays.isosurface" href="#MeshArrays.isosurface"><code>MeshArrays.isosurface</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">isosurface(θ,T,Γ)</code></pre><p>Depth of isosurface θ=T</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/MeshArrays.jl/blob/4ac2bbee189e115bfdeba51cd22cb2a740f4754d/src/VerticalDimension.jl#L1-L5">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../main/">« Main Features</a><a class="docs-footer-nextpage" href="../detail/">Miscellaneous »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 4 October 2022 21:39">Tuesday 4 October 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
